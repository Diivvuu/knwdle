@import 'tailwindcss';
@source "../../../apps/**/*.{ts,tsx}";
@source "../../../components/**/*.{ts,tsx}";
@source "../**/*.{ts,tsx}";
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

/* =========================
   KNWDLE THEME SYSTEM
   Premium • Energetic • Inviting
   Blue-Orange harmony for trust + energy
   ========================= */

/* =========================
   LIGHT MODE
   Fresh, Professional, Energetic
   ========================= */
:root {
  /* ---------- Foundations (Light, Crayon Pastel) ---------- */
  --background: #FFF9EF; /* warmer paper-like tone */
  --foreground: #2D2D2D; /* dark graphite for cozy contrast */

  --card: #FFF9F1;
  --card-foreground: #2D2D2D;

  --popover: #FFF9F1;
  --popover-foreground: #2D2D2D;

  --border: #D9D4C5; /* stronger separation, warm sand */
  --input: #FAF4E7;  /* improved creamy surface */
  --ring: #90CAF9;   /* pastel blue focus (unchanged) */

  /* ---------- Brand Colors (Crayon Pastel) ---------- */
  --primary: #6FB6E9;              /* deeper sky blue */
  --primary-foreground: #2D2D2D;

  --secondary: #FFB961;            /* deeper peachy-orange */
  --secondary-foreground: #2D2D2D;

  --accent: #93D2A2;               /* deeper minty green */
  --accent-foreground: #2D2D2D;

  /* Support tints for playful UI (crayon pastels) */
  --pink: #F8BBD0;     /* gentle pastel pink */
  --lime: #D4E157;     /* grassy crayon lime */
  --purple: #CE93D8;   /* lilac pastel */
  --yellow: #FFF59D;   /* creamy yellow */
  --teal: #80DEEA;     /* soft pastel teal */

  /* ---------- Gradients (Livelier Pastel Blends) ---------- */
  --grad-primary: linear-gradient(135deg, #6FB6E9 0%, #A6D3F2 100%);
  --grad-secondary: linear-gradient(135deg, #FFB961 0%, #FFE39C 100%);
  --grad-accent: linear-gradient(135deg, #93D2A2 0%, #7CD8C0 100%);
  --grad-candy: linear-gradient(135deg, #F8BBD0 0%, #93D2A2 50%, #6FB6E9 100%);

  /* ---------- Neutrals ---------- */
  --muted: #F5EFE3; /* softer, higher contrast muted surface */
  --muted-foreground: #8A8A8A; /* soft graphite */

  --destructive: #EF9A9A; /* gentle crayon red */
  --destructive-foreground: #2D2D2D;

  /* ---------- Status Colors ---------- */
  --success: #93D2A2;
  --success-foreground: #2D2D2D;

  --warning: #FFE082;
  --warning-foreground: #2D2D2D;

  --info: #81D4FA;
  --info-foreground: #2D2D2D;

  /* ---------- Educational Context Colors ---------- */
  --attendance-present: #93D2A2;
  --attendance-absent: #EF9A9A;
  --attendance-late: #FFE082;

  --fee-paid: #93D2A2;
  --fee-pending: #FFE082;
  --fee-overdue: #EF9A9A;

  --performance-excellent: #93D2A2;
  --performance-good: #6FB6E9;
  --performance-needs-improvement: #FFE082;
  --performance-poor: #EF9A9A;

  /* ---------- Charts ---------- */
  --chart-1: #6FB6E9;  /* sky blue */
  --chart-2: #FFB961;  /* peachy orange */
  --chart-3: #93D2A2;  /* minty green */
  --chart-4: #CE93D8;  /* lilac */
  --chart-5: #F8BBD0;  /* pink */

  --radius: 12px;

  /* ---------- Sidebar ---------- */
  --sidebar: #FFF9F1;
  --sidebar-foreground: #2D2D2D;
  --sidebar-primary: #6FB6E9;
  --sidebar-primary-foreground: #2D2D2D;
  --sidebar-accent: #F5EFE3;
  --sidebar-accent-foreground: #2D2D2D;
  --sidebar-border: #D9D4C5;
  --sidebar-ring: #6FB6E9;

  /* ---------- AI Assistant (Pastel Glow) ---------- */
  --ai-primary: #6FB6E9;
  --ai-secondary: #CE93D8;
  --ai-accent: #93D2A2;
  --ai-background: #F5EFE3;
  --ai-glow: rgba(144, 202, 249, 0.13);
}

/* =========================
   DARK MODE
   Deep, Comfortable, Immersive
   ========================= */
.dark {
  /* ---------- Foundations (Dark, Chalkboard Pastel) ---------- */
  --background: #1B1B1B;    /* deeper, true blackboard */
  --foreground: #F5F5F5;    /* chalk white */

  --card: #242424;          /* slightly lighter blackboard */
  --card-foreground: #F5F5F5;

  --popover: #242424;
  --popover-foreground: #F5F5F5;

  --border: #353535;        /* chalky gray */
  --input: #242424;         /* match card */
  --ring: #81D4FA;          /* pastel blue ring (unchanged for glow) */

  /* ---------- Brand Colors (Chalk Pastel) ---------- */
  --primary: #81D4FA;        /* soft chalky blue */
  --primary-foreground: #1B1B1B;

  --secondary: #FFB74D;      /* pastel orange chalk */
  --secondary-foreground: #1B1B1B;

  --accent: #81C784;         /* minty green chalk */
  --accent-foreground: #1B1B1B;

  /* Playful extras (chalk pastels) */
  --pink: #F48FB1;
  --lime: #DCE775;
  --purple: #B39DDB;
  --yellow: #FFF176;
  --teal: #4DD0E1;

  /* ---------- Gradients (Soft Chalk Blends) ---------- */
  --grad-primary: linear-gradient(135deg, #81D4FA 0%, #B39DDB 100%);
  --grad-secondary: linear-gradient(135deg, #FFB74D 0%, #FFF176 100%);
  --grad-accent: linear-gradient(135deg, #81C784 0%, #4DD0E1 100%);
  --grad-candy: linear-gradient(135deg, #F48FB1 0%, #81C784 50%, #81D4FA 100%);

  /* ---------- Neutrals ---------- */
  --muted: #2B2B2B;              /* more contrast muted panel */
  --muted-foreground: #B0B0B0;   /* chalk gray */

  --destructive: #E57373;
  --destructive-foreground: #1B1B1B;

  /* ---------- Status Colors ---------- */
  --success: #81C784;
  --success-foreground: #1B1B1B;

  --warning: #FFF176;
  --warning-foreground: #1B1B1B;

  --info: #81D4FA;
  --info-foreground: #1B1B1B;

  /* ---------- Educational Context Colors ---------- */
  --attendance-present: #81C784;
  --attendance-absent: #E57373;
  --attendance-late: #FFF176;

  --fee-paid: #81C784;
  --fee-pending: #FFF176;
  --fee-overdue: #E57373;

  --performance-excellent: #81C784;
  --performance-good: #81D4FA;
  --performance-needs-improvement: #FFF176;
  --performance-poor: #E57373;

  /* ---------- Charts ---------- */
  --chart-1: #81D4FA;  /* blue */
  --chart-2: #FFB74D;  /* orange */
  --chart-3: #81C784;  /* green */
  --chart-4: #B39DDB;  /* lilac */
  --chart-5: #F48FB1;  /* pink */

  /* ---------- Sidebar ---------- */
  --sidebar: #1B1B1B;
  --sidebar-foreground: #F5F5F5;
  --sidebar-primary: #81D4FA;
  --sidebar-primary-foreground: #1B1B1B;
  --sidebar-accent: #242424;
  --sidebar-accent-foreground: #F5F5F5;
  --sidebar-border: #353535;
  --sidebar-ring: #81D4FA;

  /* ---------- AI Assistant (Chalk Glow) ---------- */
  --ai-primary: #81D4FA;
  --ai-secondary: #B39DDB;
  --ai-accent: #81C784;
  --ai-background: #242424;
  --ai-glow: rgba(129, 212, 250, 0.22);
}

/* =========================
   THEME UTILITY
   ========================= */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);
  --radius-md: var(--radius);

  /* Educational context colors */
  --color-attendance-present: var(--attendance-present);
  --color-attendance-absent: var(--attendance-absent);
  --color-attendance-late: var(--attendance-late);
  --color-fee-paid: var(--fee-paid);
  --color-fee-pending: var(--fee-pending);
  --color-fee-overdue: var(--fee-overdue);
  --color-performance-excellent: var(--performance-excellent);
  --color-performance-good: var(--performance-good);
  --color-performance-needs-improvement: var(--performance-needs-improvement);
  --color-performance-poor: var(--performance-poor);

  /* AI Assistant colors */
  --color-ai-primary: var(--ai-primary);
  --color-ai-secondary: var(--ai-secondary);
  --color-ai-accent: var(--ai-accent);
  --color-ai-background: var(--ai-background);
  --color-ai-glow: var(--ai-glow);

  --color-pink: var(--pink);
  --color-lime: var(--lime);
  --color-purple: var(--purple);
  --color-yellow: var(--yellow);
  --color-teal: var(--teal);

  --gradient-primary: var(--grad-primary);
  --gradient-secondary: var(--grad-secondary);
  --gradient-accent: var(--grad-accent);
  --gradient-candy: var(--grad-candy);
}

/* =========================
   BASE + UTILITIES
   ========================= */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }

  /* Smooth transitions */
  * {
    transition-property:
      background-color, border-color, color, fill, stroke, box-shadow;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 250ms;
  }

  button,
  a,
  [role='button'] {
    @apply cursor-pointer;
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Premium elevation system */
  .elev-1 {
    box-shadow:
      0 1px 2px 0 rgba(0, 0, 0, 0.05),
      0 1px 3px 0 rgba(0, 0, 0, 0.1);
  }

  .elev-2 {
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -2px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .elev-3 {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -4px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .elev-4 {
    box-shadow:
      0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 8px 10px -6px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  /* AI feature glow effects */
  .ai-glow {
    box-shadow:
      0 0 20px -5px var(--ai-glow),
      0 0 40px -10px var(--ai-glow);
  }

  .ai-glow-strong {
    box-shadow:
      0 0 30px -5px var(--ai-glow),
      0 0 60px -10px var(--ai-glow),
      0 0 100px -20px var(--ai-glow);
  }

  /* Gradient backgrounds */
  .gradient-blue {
    background: linear-gradient(135deg, var(--primary) 0%, #1d4ed8 100%);
  }

  .gradient-blue-cyan {
    background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
  }

  .gradient-orange {
    background: linear-gradient(135deg, var(--secondary) 0%, #ea580c 100%);
  }

  /* Status badge utilities */
  .status-present {
    @apply bg-emerald-50 text-emerald-700 dark:bg-emerald-950/40 dark:text-emerald-400 
           border border-emerald-200 dark:border-emerald-800/50;
  }

  .status-absent {
    @apply bg-red-50 text-red-700 dark:bg-red-950/40 dark:text-red-400 
           border border-red-200 dark:border-red-800/50;
  }

  .status-late {
    @apply bg-amber-50 text-amber-700 dark:bg-amber-950/40 dark:text-amber-400 
           border border-amber-200 dark:border-amber-800/50;
  }

  .status-paid {
    @apply bg-emerald-50 text-emerald-700 dark:bg-emerald-950/40 dark:text-emerald-400 
           border border-emerald-200 dark:border-emerald-800/50;
  }

  .status-pending {
    @apply bg-amber-50 text-amber-700 dark:bg-amber-950/40 dark:text-amber-400 
           border border-amber-200 dark:border-amber-800/50;
  }

  .status-overdue {
    @apply bg-red-50 text-red-700 dark:bg-red-950/40 dark:text-red-400 
           border border-red-200 dark:border-red-800/50;
  }

  /* Micro-interactions */
  .hover-lift {
    @apply transition-transform duration-200 ease-out;
  }

  .hover-lift:hover {
    @apply -translate-y-0.5;
  }

  .hover-glow:hover {
    @apply shadow-lg shadow-primary/20;
  }

  /* Glass morphism */
  .glass {
    @apply bg-white/80 dark:bg-white/5 backdrop-blur-xl border border-black/5 dark:border-white/10;
  }

  .glass-strong {
    @apply bg-white/90 dark:bg-white/10 backdrop-blur-2xl border border-black/10 dark:border-white/20;
  }

  /* =========================
     Playful Utilities (Knwdle)
     ========================= */

  /* Text gradient utilities */
  .text-gradient-primary {
    background: var(--grad-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .text-gradient-secondary {
    background: var(--grad-secondary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .text-gradient-candy {
    background: var(--grad-candy);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Background gradient helpers */
  .bg-grad-primary { background: var(--grad-primary); }
  .bg-grad-secondary { background: var(--grad-secondary); }
  .bg-grad-accent { background: var(--grad-accent); }
  .bg-grad-candy { background: var(--grad-candy); }

  /* Playful conic-ring border used by fancy buttons/badges */
  .ring-orbit {
    position: relative;
  }
  .ring-orbit::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background: conic-gradient(from var(--_angle, 0deg), var(--primary) 0 12%, transparent 12% 100%);
    -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 2px), #000 calc(100% - 2px));
    mask: radial-gradient(farthest-side, transparent calc(100% - 2px), #000 calc(100% - 2px));
    animation: kn-orbit 4s linear infinite;
    opacity: .9;
  }

  /* Soft candy sheen overlay */
  .overlay-sheen {
    position: relative;
    overflow: hidden;
  }
  .overlay-sheen::before {
    content: '';
    position: absolute;
    inset: 0;
    left: -35%;
    width: 35%;
    border-radius: inherit;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
    filter: blur(0.5px);
    opacity: 0;
    transition: transform .7s ease-out, opacity .2s ease-out;
    transform: translateX(0);
  }
  .overlay-sheen:hover::before {
    opacity: 1;
    transform: translateX(260%);
  }

  /* Confetti dots (subtle, for playful sections) */
  .bg-confetti {
    background-image:
      radial-gradient(circle at 20% 20%, color-mix(in oklab, var(--pink), white 10%) 0 2px, transparent 3px),
      radial-gradient(circle at 80% 30%, color-mix(in oklab, var(--lime), white 10%) 0 2px, transparent 3px),
      radial-gradient(circle at 40% 70%, color-mix(in oklab, var(--accent), white 10%) 0 2px, transparent 3px),
      radial-gradient(circle at 70% 80%, color-mix(in oklab, var(--purple), white 10%) 0 2px, transparent 3px);
    background-size: 24px 24px;
    background-color: color-mix(in oklab, var(--background), white 3%);
  }

  /* Playful badge palette */
  .badge-pink    { background: color-mix(in oklab, var(--pink), white 88%); color: var(--pink); }
  .badge-lime    { background: color-mix(in oklab, var(--lime), white 88%); color: var(--lime); }
  .badge-purple  { background: color-mix(in oklab, var(--purple), white 88%); color: var(--purple); }
  .badge-yellow  { background: color-mix(in oklab, var(--yellow), white 88%); color: #8a6f00; }
  .badge-teal    { background: color-mix(in oklab, var(--teal), white 88%); color: var(--teal); }
}

/* Hide scrollbars but keep scrolling */
::-webkit-scrollbar {
  width: 0;
  height: 0;
}

* {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

html,
body {
  overflow: auto;
}

/* Custom scrollbar for specific areas */
.custom-scroll::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scroll::-webkit-scrollbar-track {
  @apply bg-transparent;
}

.custom-scroll::-webkit-scrollbar-thumb {
  @apply bg-primary/20 rounded-full;
}

.custom-scroll::-webkit-scrollbar-thumb:hover {
  @apply bg-primary/40;
}

@keyframes kn-orbit {
  to { --_angle: 360deg; }
}

