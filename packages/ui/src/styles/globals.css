@import 'tailwindcss';
@source "../../../apps/**/*.{ts,tsx}";
@source "../../../components/**/*.{ts,tsx}";
@source "../**/*.{ts,tsx}";
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

/* =========================
   KNWDLE THEME SYSTEM
   Premium • Energetic • Inviting
   Blue-Orange harmony for trust + energy
   ========================= */

/* =========================
   LIGHT MODE
   Fresh, Professional, Energetic
   ========================= */
:root {
  /* ---------- Foundations (Light) ---------- */
  --background: #fafaf8; /* warm soft white */
  --foreground: #121316; /* near-black for strong readability */

  --card: #ffffff;
  --card-foreground: #121316;

  --popover: #ffffff;
  --popover-foreground: #121316;

  --border: #e7e5ef; /* soft lavender-gray */
  --input: #f5f3ff;  /* faint violet surface */
  --ring: #a78bfa;   /* violet-300 focus */

  /* ---------- Brand Colors (Sorbet Pop) ---------- */
  --primary: #78489d;              /* violet-600 */
  --primary-foreground: #ffffff;

  --secondary: #ff7e33;            /* mango 500/600 hybrid */
  --secondary-foreground: #1a0b02;

  --accent: #06d6a0;               /* mint / aquamarine */
  --accent-foreground: #032c22;

  /* Support tints for playful UI */
  --pink: #ff4d8d;     /* raspberry */
  --lime: #16a34a;     /* green-600 */
  --purple: #8b5cf6;   /* violet-500 */
  --yellow: #facc15;   /* amber-300 */
  --teal: #14b8a6;     /* teal-500 */

  /* ---------- Gradients ---------- */
  --grad-primary: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%);
  --grad-secondary: linear-gradient(135deg, #ff7e33 0%, #ffb86b 100%);
  --grad-accent: linear-gradient(135deg, #06d6a0 0%, #9ef7df 100%);
  --grad-candy: linear-gradient(135deg, #7c3aed 0%, #06d6a0 50%, #ff4d8d 100%);

  /* ---------- Neutrals ---------- */
  --muted: #f4f2fb; /* soft lilac */
  --muted-foreground: #646178; /* desaturated slate-violet */

  --destructive: #ef4444;
  --destructive-foreground: #ffffff;

  /* ---------- Status Colors ---------- */
  --success: #16a34a;
  --success-foreground: #ffffff;

  --warning: #f59e0b;
  --warning-foreground: #1f1300;

  --info: #0ea5e9;
  --info-foreground: #ffffff;

  /* ---------- Educational Context Colors ---------- */
  --attendance-present: #16a34a;
  --attendance-absent: #ef4444;
  --attendance-late: #f59e0b;

  --fee-paid: #16a34a;
  --fee-pending: #f59e0b;
  --fee-overdue: #ef4444;

  --performance-excellent: #16a34a;
  --performance-good: #7c3aed;
  --performance-needs-improvement: #f59e0b;
  --performance-poor: #ef4444;

  /* ---------- Charts ---------- */
  --chart-1: #7c3aed;  /* violet */
  --chart-2: #ff7e33;  /* mango */
  --chart-3: #06d6a0;  /* mint */
  --chart-4: #0ea5e9;  /* sky */
  --chart-5: #ef5da8;  /* pink */

  --radius: 12px;

  /* ---------- Sidebar ---------- */
  --sidebar: #ffffff;
  --sidebar-foreground: #121316;
  --sidebar-primary: #7c3aed;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #f5f3ff;
  --sidebar-accent-foreground: #121316;
  --sidebar-border: #e7e5ef;
  --sidebar-ring: #a78bfa;

  /* ---------- AI Assistant (Violet Glow) ---------- */
  --ai-primary: #7c3aed;
  --ai-secondary: #a78bfa;
  --ai-accent: #06d6a0;
  --ai-background: #f5f3ff;
  --ai-glow: rgba(124, 58, 237, 0.14);
}

/* =========================
   DARK MODE
   Deep, Comfortable, Immersive
   ========================= */
.dark {
  /* ---------- Foundations (Dark) ---------- */
  --background: #161a34;    /* softened indigo-night for better readability */
  --foreground: #f4f6ff;    /* brighter cool white for higher contrast */

  --card: #1b1f3d;          /* slightly lighter surface */
  --card-foreground: #f4f6ff;

  --popover: #1b1f3d;
  --popover-foreground: #f4f6ff;

  --border: #3b4062;        /* clearer separation lines (lighter) */
  --input: #232852;         /* brighter input for easier findability */
  --ring: #cabdff;          /* slightly brighter focus ring */

  /* ---------- Brand Colors (Dark) ---------- */
  --primary: #cabdff;        /* clearer violet for better contrast */
  --primary-foreground: #0e0f17;

  --secondary: #ffc58b;      /* slightly brighter mango for affordances */
  --secondary-foreground: #22150c;

  --accent: #4be6c5;         /* mint pop toned for legibility */
  --accent-foreground: #08241e;

  /* Playful extras (dark mode) */
  --pink: #ff94c6;
  --lime: #31dc74;
  --purple: #cabdff;
  --yellow: #ffe49a;
  --teal: #56e9d6;

  /* ---------- Gradients (Dark) ---------- */
  --grad-primary: linear-gradient(135deg, #cabdff 0%, #b4a8ff 100%);
  --grad-secondary: linear-gradient(135deg, #ffc58b 0%, #ffdcb0 100%);
  --grad-accent: linear-gradient(135deg, #4be6c5 0%, #b9ffea 100%);
  --grad-candy: linear-gradient(135deg, #cabdff 0%, #4be6c5 50%, #ff94c6 100%);

  /* ---------- Neutrals ---------- */
  --muted: #1a1e3a;              /* lighter panels on dark bg */
  --muted-foreground: #c6c9e6;   /* brighter muted text */

  --destructive: #f87171;
  --destructive-foreground: #1b0a0a;

  /* ---------- Status Colors ---------- */
  --success: #22c55e;
  --success-foreground: #07150c;

  --warning: #fbbf24;
  --warning-foreground: #1f1600;

  --info: #92c2ff;               /* brighter sky for contrast */
  --info-foreground: #0b1a29;

  /* ---------- Educational Context Colors ---------- */
  --attendance-present: #22c55e;
  --attendance-absent: #f87171;
  --attendance-late: #fbbf24;

  --fee-paid: #22c55e;
  --fee-pending: #fbbf24;
  --fee-overdue: #f87171;

  --performance-excellent: #22c55e;
  --performance-good: #cabdff;
  --performance-needs-improvement: #fbbf24;
  --performance-poor: #f87171;

  /* ---------- Charts ---------- */
  --chart-1: #cabdff;  /* violet */
  --chart-2: #ffc58b;  /* mango */
  --chart-3: #4be6c5;  /* mint */
  --chart-4: #92c2ff;  /* sky */
  --chart-5: #ff94c6;  /* pink */

  /* ---------- Sidebar ---------- */
  --sidebar: #16193a;
  --sidebar-foreground: #f2f4ff;
  --sidebar-primary: #cabdff;
  --sidebar-primary-foreground: #0e0f17;
  --sidebar-accent: #1d2146;
  --sidebar-accent-foreground: #e8ebff;
  --sidebar-border: #3a3e62;
  --sidebar-ring: #cabdff;

  /* ---------- AI Assistant (Dark) ---------- */
  --ai-primary: #cabdff;
  --ai-secondary: #d9d1ff;
  --ai-accent: #4be6c5;
  --ai-background: #14173a;
  --ai-glow: rgba(202, 189, 255, 0.22); /* a touch brighter glow */
}

/* =========================
   THEME UTILITY
   ========================= */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);
  --radius-md: var(--radius);

  /* Educational context colors */
  --color-attendance-present: var(--attendance-present);
  --color-attendance-absent: var(--attendance-absent);
  --color-attendance-late: var(--attendance-late);
  --color-fee-paid: var(--fee-paid);
  --color-fee-pending: var(--fee-pending);
  --color-fee-overdue: var(--fee-overdue);
  --color-performance-excellent: var(--performance-excellent);
  --color-performance-good: var(--performance-good);
  --color-performance-needs-improvement: var(--performance-needs-improvement);
  --color-performance-poor: var(--performance-poor);

  /* AI Assistant colors */
  --color-ai-primary: var(--ai-primary);
  --color-ai-secondary: var(--ai-secondary);
  --color-ai-accent: var(--ai-accent);
  --color-ai-background: var(--ai-background);
  --color-ai-glow: var(--ai-glow);

  --color-pink: var(--pink);
  --color-lime: var(--lime);
  --color-purple: var(--purple);
  --color-yellow: var(--yellow);
  --color-teal: var(--teal);

  --gradient-primary: var(--grad-primary);
  --gradient-secondary: var(--grad-secondary);
  --gradient-accent: var(--grad-accent);
  --gradient-candy: var(--grad-candy);
}

/* =========================
   BASE + UTILITIES
   ========================= */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }

  /* Smooth transitions */
  * {
    transition-property:
      background-color, border-color, color, fill, stroke, box-shadow;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 250ms;
  }

  button,
  a,
  [role='button'] {
    @apply cursor-pointer;
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Premium elevation system */
  .elev-1 {
    box-shadow:
      0 1px 2px 0 rgba(0, 0, 0, 0.05),
      0 1px 3px 0 rgba(0, 0, 0, 0.1);
  }

  .elev-2 {
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -2px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .elev-3 {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -4px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .elev-4 {
    box-shadow:
      0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 8px 10px -6px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  /* AI feature glow effects */
  .ai-glow {
    box-shadow:
      0 0 20px -5px var(--ai-glow),
      0 0 40px -10px var(--ai-glow);
  }

  .ai-glow-strong {
    box-shadow:
      0 0 30px -5px var(--ai-glow),
      0 0 60px -10px var(--ai-glow),
      0 0 100px -20px var(--ai-glow);
  }

  /* Gradient backgrounds */
  .gradient-blue {
    background: linear-gradient(135deg, var(--primary) 0%, #1d4ed8 100%);
  }

  .gradient-blue-cyan {
    background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
  }

  .gradient-orange {
    background: linear-gradient(135deg, var(--secondary) 0%, #ea580c 100%);
  }

  /* Status badge utilities */
  .status-present {
    @apply bg-emerald-50 text-emerald-700 dark:bg-emerald-950/40 dark:text-emerald-400 
           border border-emerald-200 dark:border-emerald-800/50;
  }

  .status-absent {
    @apply bg-red-50 text-red-700 dark:bg-red-950/40 dark:text-red-400 
           border border-red-200 dark:border-red-800/50;
  }

  .status-late {
    @apply bg-amber-50 text-amber-700 dark:bg-amber-950/40 dark:text-amber-400 
           border border-amber-200 dark:border-amber-800/50;
  }

  .status-paid {
    @apply bg-emerald-50 text-emerald-700 dark:bg-emerald-950/40 dark:text-emerald-400 
           border border-emerald-200 dark:border-emerald-800/50;
  }

  .status-pending {
    @apply bg-amber-50 text-amber-700 dark:bg-amber-950/40 dark:text-amber-400 
           border border-amber-200 dark:border-amber-800/50;
  }

  .status-overdue {
    @apply bg-red-50 text-red-700 dark:bg-red-950/40 dark:text-red-400 
           border border-red-200 dark:border-red-800/50;
  }

  /* Micro-interactions */
  .hover-lift {
    @apply transition-transform duration-200 ease-out;
  }

  .hover-lift:hover {
    @apply -translate-y-0.5;
  }

  .hover-glow:hover {
    @apply shadow-lg shadow-primary/20;
  }

  /* Glass morphism */
  .glass {
    @apply bg-white/80 dark:bg-white/5 backdrop-blur-xl border border-black/5 dark:border-white/10;
  }

  .glass-strong {
    @apply bg-white/90 dark:bg-white/10 backdrop-blur-2xl border border-black/10 dark:border-white/20;
  }

  /* =========================
     Playful Utilities (Knwdle)
     ========================= */

  /* Text gradient utilities */
  .text-gradient-primary {
    background: var(--grad-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .text-gradient-secondary {
    background: var(--grad-secondary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .text-gradient-candy {
    background: var(--grad-candy);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Background gradient helpers */
  .bg-grad-primary { background: var(--grad-primary); }
  .bg-grad-secondary { background: var(--grad-secondary); }
  .bg-grad-accent { background: var(--grad-accent); }
  .bg-grad-candy { background: var(--grad-candy); }

  /* Playful conic-ring border used by fancy buttons/badges */
  .ring-orbit {
    position: relative;
  }
  .ring-orbit::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background: conic-gradient(from var(--_angle, 0deg), var(--primary) 0 12%, transparent 12% 100%);
    -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 2px), #000 calc(100% - 2px));
    mask: radial-gradient(farthest-side, transparent calc(100% - 2px), #000 calc(100% - 2px));
    animation: kn-orbit 4s linear infinite;
    opacity: .9;
  }

  /* Soft candy sheen overlay */
  .overlay-sheen {
    position: relative;
    overflow: hidden;
  }
  .overlay-sheen::before {
    content: '';
    position: absolute;
    inset: 0;
    left: -35%;
    width: 35%;
    border-radius: inherit;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
    filter: blur(0.5px);
    opacity: 0;
    transition: transform .7s ease-out, opacity .2s ease-out;
    transform: translateX(0);
  }
  .overlay-sheen:hover::before {
    opacity: 1;
    transform: translateX(260%);
  }

  /* Confetti dots (subtle, for playful sections) */
  .bg-confetti {
    background-image:
      radial-gradient(circle at 20% 20%, color-mix(in oklab, var(--pink), white 10%) 0 2px, transparent 3px),
      radial-gradient(circle at 80% 30%, color-mix(in oklab, var(--lime), white 10%) 0 2px, transparent 3px),
      radial-gradient(circle at 40% 70%, color-mix(in oklab, var(--accent), white 10%) 0 2px, transparent 3px),
      radial-gradient(circle at 70% 80%, color-mix(in oklab, var(--purple), white 10%) 0 2px, transparent 3px);
    background-size: 24px 24px;
    background-color: color-mix(in oklab, var(--background), white 3%);
  }

  /* Playful badge palette */
  .badge-pink    { background: color-mix(in oklab, var(--pink), white 88%); color: var(--pink); }
  .badge-lime    { background: color-mix(in oklab, var(--lime), white 88%); color: var(--lime); }
  .badge-purple  { background: color-mix(in oklab, var(--purple), white 88%); color: var(--purple); }
  .badge-yellow  { background: color-mix(in oklab, var(--yellow), white 88%); color: #8a6f00; }
  .badge-teal    { background: color-mix(in oklab, var(--teal), white 88%); color: var(--teal); }
}

/* Hide scrollbars but keep scrolling */
::-webkit-scrollbar {
  width: 0;
  height: 0;
}

* {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

html,
body {
  overflow: auto;
}

/* Custom scrollbar for specific areas */
.custom-scroll::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scroll::-webkit-scrollbar-track {
  @apply bg-transparent;
}

.custom-scroll::-webkit-scrollbar-thumb {
  @apply bg-primary/20 rounded-full;
}

.custom-scroll::-webkit-scrollbar-thumb:hover {
  @apply bg-primary/40;
}

@keyframes kn-orbit {
  to { --_angle: 360deg; }
}

